{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"banner\">\n      <swiper \n        indicator-dots \n        indicator-color=\"rgba(255,255,255,0.5)\"\n        indicator-active-color=\"#fff\" \n        circular \n        autoplay \n        interval=\"4000\"\n      >\n        <swiper-item v-for=\"(item, index) in carouselList\" :key=\"index\">\n          <view class=\"image-container\">\n            <image \n              :src=\"item.imageUrl\" \n              mode=\"aspectFill\" \n              lazy-load\n              @load=\"handleImageLoaded(index)\"\n              class=\"carousel-image\"\n              :class=\"{'image-loaded': imageLoadStates[index]}\"\n            ></image>\n            <!-- 图片加载中指示器 -->\n            <view \n              class=\"loading-indicator\" \n              :class=\"{'hidden': imageLoadStates[index]}\"\n            ></view>\n          </view>\n        </swiper-item>\n      </swiper>\n    </view>\r\n\t<!-- 基础用法 -->\r\n\t<!-- 自定义搜索组件 -->\r\n\t<view class=\"page-container\">\r\n\t    <!-- 搜索组件使用，添加完整事件监听 -->\r\n\t    <uni-mysearch \r\n\t      placeholder=\"请输入要查询的垃圾\"\r\n\t      iconColor=\"#3370FF\"\r\n\t      :rightIcons=\"[{ type: 'mic-filled' }, { type: 'camera-filled' }]\"\r\n\t      @input=\"handleInput\"\r\n\t      @confirm=\"handleConfirm\"\r\n\t      @focus=\"handleFocus\"\r\n\t      @blur=\"handleBlur\"\r\n\t      @clear=\"handleClear\"\r\n\t      @iconClick=\"handleIconClick\"\r\n\t      @rightIconClick=\"handleRightIconClick\"\r\n\t    ></uni-mysearch>\r\n\t    \r\n\t    <!-- 搜索结果展示区域 -->\r\n\t    <view v-if=\"searchResult\" class=\"result-container\">\r\n\t      <view class=\"result-title\">搜索结果：{{ searchValue }}</view>\r\n\t      <view class=\"result-content\">{{ searchResult }}</view>\r\n\t    </view>\r\n\t  </view>\r\n\t  <view class=\"grid-container\">\r\n\t      <!-- 四宫格布局 -->\r\n\t      <view class=\"grid-items\">\r\n\t        <view \r\n\t          v-for=\"(item, index) in gridData\" \r\n\t          :key=\"index\" \r\n\t          class=\"grid-item\"\r\n\t          @click=\"goToDetail(item.url)\"\r\n\t        >\r\n\t          <image \r\n\t            :src=\"item.image\" \r\n\t            mode=\"aspectFill\" \r\n\t            class=\"grid-image\"\r\n\t          ></image>\r\n\t          <text class=\"grid-text\">{{ item.title }}</text>\r\n\t        </view>\r\n\t      </view>\r\n\t    </view>\n  </view>\n</template>\r\n\n<script>\r\n\t\nexport default {\n  data() {\n    return {\n      carouselList: [\n        { imageUrl: '/static/home/Carousel/image-1.jpg' },\n        { imageUrl: '/static/home/Carousel/image-2.jpg' },\n        { imageUrl: '/static/home/Carousel/image-3.jpg' }\n      ],\n      imageLoadStates: [false, false, false], // 每张图片的加载状态\r\n\t  searchValue: '',\r\n\t  searchResult: '',\r\n\t  // 内置动态数据\r\n\t\tgridData: [\r\n\t\t  {\r\n\t\t\tid: 1,\r\n\t\t\ttitle: '环保知识学习',\r\n\t\t\timage: '/static/home/grid-container/study.svg',\r\n\t\t\turl: '/pages/category/detail?id=1'\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 2,\r\n\t\t\ttitle: '竞答得积分',\r\n\t\t\timage: '/static/home/grid-container/question.svg',\r\n\t\t\turl: '/pages/category/detail?id=2'\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 3,\r\n\t\t\ttitle: '投放指南',\r\n\t\t\timage: '/static/home/grid-container/guide.svg',\r\n\t\t\turl: '/pages/category/detail?id=3'\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tid: 4,\r\n\t\t\ttitle: '全部分类',\r\n\t\t\timage: '/static/home/grid-container/cate.svg',\r\n\t\t\turl: '/pages/category/detail?id=4'\r\n\t\t  }\r\n\t\t]\n    }\n  },\n  methods: {\n    handleImageLoaded(index) {\n      // 更新对应图片的加载状态\n      this.$set(this.imageLoadStates, index, true);\n    },\r\n\t// 跳转到详情页\r\n\tgoToDetail(url) {\r\n\t  if (url) {\r\n\t\tuni.navigateTo({\r\n\t\t  url: url\r\n\t\t});\r\n\t  } else {\r\n\t\tuni.showToast({\r\n\t\t  title: '暂无跳转链接',\r\n\t\t  icon: 'none'\r\n\t\t});\r\n\t  }\r\n\t},\r\n\t// 输入事件处理\r\n\thandleInput(value) {\r\n\t  this.searchValue = value;\r\n\t  console.log('输入内容:', value);\r\n\t  \r\n\t  // 这里可以添加实时搜索逻辑\r\n\t  if (value.trim()) {\r\n\t\tthis.realTimeSearch(value);\r\n\t  }\r\n\t},\r\n\t\r\n\t// 确认搜索事件处理\r\n\thandleConfirm(value) {\r\n\t  if (!value.trim()) {\r\n\t\tuni.showToast({\r\n\t\t  title: '请输入要查询的垃圾',\r\n\t\t  icon: 'none'\r\n\t\t});\r\n\t\treturn;\r\n\t  }\r\n\t  \r\n\t  this.searchValue = value;\r\n\t  this.queryGarbageType(value);\r\n\t},\r\n\t\r\n\t// 聚焦事件处理\r\n\thandleFocus(e) {\r\n\t  console.log('搜索框聚焦');\r\n\t  // 可以添加聚焦时的动画效果或提示\r\n\t},\r\n\t\r\n\t// 失焦事件处理\r\n\thandleBlur(e) {\r\n\t  console.log('搜索框失焦');\r\n\t},\r\n\t\r\n\t// 清除搜索内容事件处理\r\n\thandleClear() {\r\n\t  console.log('清除搜索内容');\r\n\t  this.searchValue = '';\r\n\t  this.searchResult = '';\r\n\t},\r\n\t\r\n\t// 左侧图标点击事件处理\r\n\thandleIconClick() {\r\n\t  console.log('左侧图标点击');\r\n\t  // 左侧默认是搜索图标，点击可以触发搜索\r\n\t  if (this.searchValue.trim()) {\r\n\t\tthis.queryGarbageType(this.searchValue);\r\n\t  } else {\r\n\t\tuni.showToast({\r\n\t\t  title: '请输入要查询的垃圾',\r\n\t\t  icon: 'none'\r\n\t\t});\r\n\t  }\r\n\t},\r\n\t\r\n\t// 右侧图标点击事件处理\r\n\thandleRightIconClick(index) {\r\n\t  const iconTypes = ['语音识别', '拍照识别'];\r\n\t  console.log(`点击右侧图标: ${iconTypes[index]}`);\r\n\t  \r\n\t  // 根据点击的图标索引执行不同操作\r\n\t  if (index === 0) {\r\n\t\t// 语音识别功能\r\n\t\tthis.startVoiceRecognition();\r\n\t  } else if (index === 1) {\r\n\t\t// 拍照识别功能\r\n\t\tthis.startCameraRecognition();\r\n\t  }\r\n\t},\r\n\t\r\n\t// 实时搜索功能\r\n\trealTimeSearch(keyword) {\r\n\t  // 这里可以实现实时搜索建议\r\n\t  // 示例：模拟搜索建议\r\n\t  console.log('实时搜索建议:', keyword);\r\n\t},\r\n\t\r\n\t// 查询垃圾类型\r\n\tqueryGarbageType(keyword) {\r\n\t  uni.showLoading({\r\n\t\ttitle: '查询中...'\r\n\t  });\r\n\t  \r\n\t  // 模拟API请求\r\n\t  setTimeout(() => {\r\n\t\tuni.hideLoading();\r\n\t\t\r\n\t\t// 这里应该替换为真实的垃圾分类API调用\r\n\t\tconst garbageTypes = {\r\n\t\t  '苹果': '厨余垃圾',\r\n\t\t  '纸张': '可回收物',\r\n\t\t  '电池': '有害垃圾',\r\n\t\t  '塑料袋': '其他垃圾',\r\n\t\t  // 可以添加更多垃圾类型...\r\n\t\t};\r\n\t\t\r\n\t\tthis.searchResult = garbageTypes[keyword] || '未找到该垃圾的分类信息';\r\n\t  }, 800);\r\n\t},\r\n\t\r\n\t// 语音识别功能\r\n\tstartVoiceRecognition() {\r\n\t  uni.showToast({\r\n\t\ttitle: '语音识别功能',\r\n\t\ticon: 'none'\r\n\t  });\r\n\t  // 这里应调用语音识别API\r\n\t},\r\n\t\r\n\t// 拍照识别功能\r\n\tstartCameraRecognition() {\r\n\t  uni.chooseImage({\r\n\t\tcount: 1,\r\n\t\tsizeType: ['compressed'],\r\n\t\tsourceType: ['camera'],\r\n\t\tsuccess: (res) => {\r\n\t\t  uni.showToast({\r\n\t\t\ttitle: '正在识别图片...',\r\n\t\t\ticon: 'none'\r\n\t\t  });\r\n\t\t  // 这里应调用图像识别API处理选中的图片\r\n\t\t}\r\n\t  });\r\n\t}\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n  width: 100%;\n  overflow: hidden;\n}\n\n.banner {\n  width: 100%;\n  position: relative;\n  \n  // 使用 padding-bottom 保持比例\n  &:before {\n    content: \"\";\n    display: block;\n    width: 100%;\n    padding-bottom: 56.25%; // 16:9 比例\n  }\n  \n  swiper {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.image-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.carousel-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  opacity: 0; // 默认隐藏图片\n  transition: opacity 0.3s ease;\n  \n  &.image-loaded {\n    opacity: 1; // 图片加载完成后显示\n  }\n}\n\n.loading-indicator {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #f5f5f5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  // 加载动画\n  &:after {\n    content: \"\";\n    width: 30rpx;\n    height: 30rpx;\n    border: 2rpx solid #ccc;\n    border-top-color: #389bff;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  &.hidden {\n    display: none;\n  }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\r\n\r\n/* 四宫格布局样式 */\n.grid-container {\n  padding: 20rpx;\n  box-sizing: border-box;\n}\n\n.grid-items {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.grid-item {\n  width: calc(25% - 20rpx); /* 每个项占25%宽度，减去间距 */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 20rpx;\n  box-sizing: border-box;\n}\r\n\n.grid-image {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 16rpx;\n  margin-bottom: 12rpx;\n  // box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n}\n\n.grid-text {\n  font-size: 24rpx;\n  color: #333;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 100%;\n}\r\n\n</style>","import MiniProgramPage from 'D:/2025夏季学期/uni-app_project/uni-app_project/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}